<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PaJoZi's Aesthetics Brewery</title>
    <link rel="icon" href="Materials/FavIcon.png" type="image/png">
    <link rel="stylesheet" href="allinstyles.css">
</head>
<body>
  <div class="linktogame"><a target="_blank" href="https://pajozim.github.io/Stranded/">click here to play</a></div>
  <div class="triangleBtn SP"></div>
  <section id="dynamic-nav">
    <div id="imgCtner"><img id="nkeytosp"></div><div id="pftbiS">Back to Start</div>
  </section>
  <section class="page-flipper">
    <div id="studio-container"></div>
    <div id="cv-container">
      <div id="firstrow"></div>
      <div id="curriculum" class="small"></div>
      <div id="indicator"></div>
    </div>
    <div id="contact-page">
      <form id="contact-form" action="https://submit-form.com/BzCPIVvkV">
        <input type="text" id="c-name" name="name" placeholder="name" autocomplete="on" />
        <input type="email" id="c-email" name="email" placeholder="email - mandatory" autocomplete="on" required="" />
        <input type="text" id="c-subject" name="subject" placeholder="subject" autocomplete="on">
        <textarea type="text" id="c-message" name="message" placeholder="message - mandatory" required></textarea>
        <div class="button-container">
          <button type="submit" id="c-submit" onclick="SendMessage()">Send</button>
        </div>
      </form>
    </div>
    <div id="stpg-container">
      <div id="idiomsiR"><!--<div id="IdiomaEng">English</div><div id="IdiomaDeu">Deutsch</div><div id="IdiomaEsp">Espa&ntilde;ol</div>--></div>
      <div id="btnsiR"><div id="currvitae"><span>Curriculum</span></div><div id="studio"><span>Studio</span></div></div>
      <div id="contactiR"><div id="contact"><span>Contact</span></div></div>
  </section>
<script aria-label="ForwardIfMobile">
  if (window.innerHeight > window.innerWidth) {
    window.location.href = "https://paul-zimmermann.framer.ai";
  }
</script>
<script aria-label="globalScope">

/* propositions/to dos: 
+ categories (webdesign, printdesign, artcrafts etc.) higlighted at the beginning and when pressing a key => change media input structure ALSO if candy expanded background color depending on which category
+ 3D effect in swiping left and right, moreso on CV
*/

// root ====================================================================================================================

const root         = document.documentElement;
const screenwidth  = window.screen.width;
const screenheight = window.screen.height;

// start/landing page definitions ==========================================================================================

const materials    = JSON.parse(localStorage.getItem('materials')) || [];
const pfTriStudio  = document.getElementById('studio');
const pfTriCV      = document.getElementById('currvitae');
const pfTriContact = document.getElementById('contact');
const pageflipper  = document.querySelector('.page-flipper');
const spcontainer  = document.getElementById('stpg-container');
const dynnav       = document.getElementById('dynamic-nav');
const pagefliptr   = document.getElementById('pftbiS');

// studio page definitions =================================================================================================

const products     = JSON.parse(localStorage.getItem('products')) || [];
const studioC      = document.getElementById('studio-container');
const candies      = document.querySelectorAll('.candy');
const linktogame   = document.querySelector('.linktogame');

document.addEventListener('DOMContentLoaded', () => displayProducts());

// cv page definitions =====================================================================================================

const cvBlocks     = JSON.parse(localStorage.getItem('cv')) || [];
const cvcontainer  = document.getElementById('cv-container');
const firstrow     = document.getElementById('firstrow');
const frchildren   = firstrow.children;
const curriculum   = document.getElementById('curriculum');
const curBlocks    = cvBlocks[6].blocks;

// contact page definitions ================================================================================================

const contactcontainer = document.getElementById('contact-page');

// source lines ============================================================================================================

const triangleBtn = document.querySelector('.triangleBtn');
triangleBtn.style.backgroundImage = `url(${materials[5].src})`;

const nkeytosp = document.getElementById('nkeytosp');
nkeytosp.src = materials[4].src;
nkeytosp.alt = materials[4].name;

// return to start button ==================================================================================================

triangleBtn.addEventListener('click', () => {
  if (pageflipper.classList.contains('ftoSS')) {
    backToSPFromStudio();
  }
  else if (pageflipper.classList.contains('ftoCS')) {
    backToSPFromCV();
  }
  else if (pageflipper.classList.contains('ftoCo')) {
    backToSPFromContact();
  }
})

// dynamic navigation bar ==================================================================================================

window.addEventListener('keydown', function(event) {
  const dnIntro = dynnav.classList.contains('dn-intro');

  if (event.key === 'n' && event.type === 'keydown' && pageflipper.classList.contains('ftoSS')) {
    backToSPFromStudio();
    linktogame.classList.remove('block');
  }
  else if (event.key === 'n' && event.type === 'keydown' && pageflipper.classList.contains('ftoCS')) {
    backToSPFromCV();
  }
  else if (event.key === 'n' && event.type === 'keydown' && pageflipper.classList.contains('ftoCo')) {
    backToSPFromContact();
  }
});

// change workingon img on every reload ==================================================================================================

const oneofboth = [materials[2].src, materials[3].src];
const onofbothN = [materials[2].name, materials[3].name];
const workonimg = document.getElementById('workingon');

</script>
<script aria-label="ParseFromFile">
// offline/local integration of files

function fetchAndStoreData(url, localStorageKey) {
  const request = new XMLHttpRequest();
  request.open('GET', url);
  request.responseType = 'json';
  request.send();
  request.onload = function() {
    const data = request.response;
    localStorage.setItem(localStorageKey, JSON.stringify(data));
  };
  request.onerror = function() {
  console.error('An error occurred while fetching data.');
  };
}

if (navigator.onLine) {
  fetchAndStoreData('cv.json', 'cv');
  fetchAndStoreData('products.json', 'products');
  fetchAndStoreData('materials.json', 'materials');
} /*
else if (!products.length || !cvBlocks.length || !materials.length) 
 {
   const fileInput = document.createElement('input');
   fileInput.type = 'file';
   fileInput.multiple = true;
   fileInput.style.backgroundColor = 'DodgerBlue';
   
   const parentNode = document.getElementById('idiomsiR');
 
   parentNode.appendChild(fileInput);
 
   fileInput.accept = '.json';
 
   fileInput.addEventListener('change', function() {
    const files = fileInput.files;
    Array.from(files).forEach(file => {
      const reader = new FileReader();
      reader.onload = function(event) {
        const result = JSON.parse(event.target.result);
        if (file.name === "products.json") {
          localStorage.setItem('products', JSON.stringify(result));
          displayProducts(result);
        } else if (file.name === "cv.json") {
          localStorage.setItem('cv', JSON.stringify(result));
          displayCV(result);
        } else if (file.name === "materials.json") {
          localStorage.setItem('materials', JSON.stringify(result));
        }
        location.reload();
      };
      reader.readAsText(file);
    });
    fileInput.remove(); // Remove the input element from the DOM
    fileInput.style.display = 'none'; // Hide the input element
    fileInput.value = ''; // Clear the file input
    });
} */

</script>
<script aria-label="studio-composer">
// Display products =========================================================================================================

function displayProducts() {    
  const productList = document.getElementById('studio-container');
  productList.innerHTML = ''; // Clear existing content

  let rootedNo = Math.sqrt(products.length);
  let roundedUpNo = Math.ceil(rootedNo); // next rounded up integer
  let roundedDownNo = Math.floor(rootedNo); // next rounded down integer

  // calclation of the row height
  const rowDivisor = products.length <= roundedUpNo * roundedDownNo ? roundedDownNo : roundedUpNo;

  let rowfactor = (100 / rowDivisor) + 'vh';

  // grid composition
  let initialGrid = `repeat(${roundedUpNo}, 1fr)`;
  productList.style.gridTemplateColumns = initialGrid;
  productList.style.gridAutoRows = rowfactor;

  // Add each product to the grid
  products.forEach(product => {
    const productElement = document.createElement('div');
    productElement.classList = product.extraclass ? 'candy ' + product.extraclass : 'candy';
    productElement.id = `c${products.indexOf(product) + 1}`;
    productElement.style.backgroundColor = `#${Math.floor(Math.random()*16777215).toString(16)}`;
    productElement.innerHTML = `<${product.mediaType} src="${product.src}" alt="${product.name}" ${product.mediaType === 'video' ? 'controls autoplay muted' : ''}>`;
    productList.appendChild(productElement);
    });
  
  // create a filler
  // 8 products, the row width is incorrect
  if (!Number.isInteger(rootedNo) && products.length !== roundedUpNo * roundedDownNo) {
    let colSubtrahend, colDivisor, fillergridCol;

    if (products.length > roundedUpNo ** 2 || products.length > (roundedUpNo * roundedDownNo)) {
      colSubtrahend = roundedUpNo ** 2;
      colDivisor = roundedUpNo;
    } else {
      colSubtrahend = roundedUpNo * roundedDownNo;
      colDivisor = roundedDownNo;
    }

    let colDifference = colSubtrahend - products.length;
    let colQuotient = 100 / colDivisor;

    let ColProduct = colQuotient * colDifference;

    fillergridCol = (colDifference === 1) ? '' : 'span ' + colDifference;

    const filler = document.createElement('div');
    filler.classList = 'candy';
    filler.id = 'Filler';
    // filler.style.width = ColProduct + 'vw';
    filler.style.gridColumn = fillergridCol;
    // filler.style.height = rowfactor;
    filler.innerHTML = `<img id="workingon" src="${oneofboth[Math.floor(Math.random() * oneofboth.length)]}" onmouseover="this.src='${materials[1].src}'" onmouseout="this.src='${oneofboth[Math.floor(Math.random() * oneofboth.length)]}'" alt="${oneofboth[Math.floor(Math.random() * oneofboth.length)]}">`;
    productList.appendChild(filler);
  }

  // Save products to localStorage
  localStorage.setItem('products', JSON.stringify(products));
}

// .candy expand and collapse ===============================================================================================

window.addEventListener('click', function(event) {
  const elementToToggle = event.target.classList.contains('candy') ? event.target : event.target.parentElement;
  const FillerElement   = event.target.id.includes('Filler') || event.target.parentElement.id.includes('Filler');
  const showlink        = event.target.classList.contains('showlink') || event.target.parentElement.classList.contains('showlink');

  if (!FillerElement && (event.target.classList.contains('candy') || event.target.parentElement.classList.contains('candy'))) { 
    elementToToggle.classList.toggle('expanded');
    document.getElementById('studio-container').classList.toggle('flexed');
    if (showlink) {
      linktogame.classList.toggle('block');
    }
    document.querySelectorAll('.candy').forEach(c => {
      if (c !== event.target && c !== event.target.parentElement) {
        c.classList.toggle('hidden');
      }
    });
  }});

// swiping to left or right in Studio =======================================================================================

function classjuggler(p) {
p.classList.remove('hidden');
p.classList.add('expanded');      
}

window.addEventListener('wheel', function(event) {
  const NoStudioContainer = event.target.id.includes('studio-container');
  const elementToChange   = event.target.classList.contains('expanded') ? event.target : event.target.parentElement;
  const showwebElement    = elementToChange.classList.contains('showweb') ? true : false;

  //left swipe
    if (event.deltaY > 0 && elementToChange.classList.contains('expanded') && !showwebElement && !NoStudioContainer) {
    elementToChange.classList.remove('expanded');
    elementToChange.classList.add('hidden');
    const prodIndNewId = Number(elementToChange.id.slice(1)) + 1;
    if (prodIndNewId > products.length) {
      const prodIndNew = document.getElementById(`c1`);
      classjuggler(prodIndNew);
    } else {
      const prodIndNew = document.getElementById(`c${prodIndNewId}`);
      classjuggler(prodIndNew)
    }
  }
  //right swipe
  else if (event.deltaY < 0 && elementToChange.classList.contains('expanded') && !showwebElement && !NoStudioContainer) {
    elementToChange.classList.remove('expanded');
    elementToChange.classList.add('hidden');
    const prodIndNewId = Number(elementToChange.id.slice(1)) - 1;
    if (prodIndNewId <= 0) {
      const prodIndNew = document.getElementById(`c${products.length}`);
      classjuggler(prodIndNew)
    } else {
      const prodIndNew = document.getElementById(`c${prodIndNewId}`);
      classjuggler(prodIndNew)
    }
  }

  else if (event.deltaY > 0 && showwebElement) {
    window.scrollBy(0, 500);    
  }

  else if (event.deltaY < 0 && showwebElement) {
    window.scrollBy(0, -500);
  }


});

window.addEventListener('keydown', function(event) {
const prodIndOld = document.querySelector('.expanded'); // Assuming only one element is expanded at a time
// Left swipe 
if (event.key === 'ArrowLeft' && event.type === 'keydown') {
  // Find the currently expanded element
  if (prodIndOld) {
    prodIndOld.classList.remove('expanded');
    prodIndOld.classList.add('hidden');
    const prodIndNewId = Number(prodIndOld.id.slice(1)) - 1;
    if (prodIndNewId <= 0) {
      const prodIndNew = document.getElementById(`c${products.length}`);
      classjuggler(prodIndNew)
    } else {
      const prodIndNew = document.getElementById(`c${prodIndNewId}`);
      classjuggler(prodIndNew)
    }
  }
}
//right swipe
else if (event.key === 'ArrowRight' && event.type === 'keydown') {
  if (prodIndOld) {
    prodIndOld.classList.remove('expanded');
    prodIndOld.classList.add('hidden');
    const prodIndNewId = Number(prodIndOld.id.slice(1)) + 1; // Get the new product ID
    if (prodIndNewId > products.length) {
      // Wrap around to the first product if the new ID exceeds the total number of products
      const prodIndNew = document.getElementById('c1');
      classjuggler(prodIndNew);
    } else {
      // Move to the next product element
      const prodIndNew = document.getElementById(`c${prodIndNewId}`);
      classjuggler(prodIndNew);
    }
  }
}
});

</script>
<script aria-label="cv-composer">
// Display steps =========================================================================================================

function displayCV() {

  firstrow.innerHTML  = '';

  cvBlocks.forEach(index => {
      if (index.id !== 'curriculum') {
        const divblock = document.createElement('div');
        divblock.id = index.id;

        // Handle photo block
        if (divblock.id === 'photo') {
            divblock.innerHTML = `<img src="${index.block.src}" alt="${index.block.name}">`;
          // Append divblock to the cvcontainer
          firstrow.appendChild(divblock);
        }
        // Handle blocks other than "curriculum"
        else if (divblock.id !== 'curriculum' && index.block) {

            divblock.innerHTML = `<h3>${index.block.h3}</h3>`;

            // Loop through the `line` properties
            for (let key in index.block) {
              // Check if the key matches the pattern "line" followed by a number
              if (key !== 'h3') {
                  divblock.innerHTML += `<p>${index.block[key]}</p>`;
              }
            }
          // Append divblock to the cvcontainer
          firstrow.appendChild(divblock);
        }
      }
      else {
        index.blocks.forEach(bbox => {
          const currichild = document.createElement('div');
          currichild.id = `cv-block-${index.blocks.indexOf(bbox)}`;
          if (index.blocks.indexOf(bbox) > 3) currichild.classList.add('hidden');
          currichild.style.backgroundColor = bbox.bgcolor;
          currichild.innerHTML = `<h3>${bbox.h3}</h3>`;
          for (let key in bbox) {
            if (key !== 'h3' && key !== 'bgcolor') {
              currichild.innerHTML += `<p>${bbox[key]}</p>`;
            }
          }
        curriculum.appendChild(currichild);
        });
      }
  });
}

// alternating row height ========================================================================================================

window.addEventListener('click', (event) => {

  const currcompr    = document.querySelector('.compressed');
  const firosmall    = document.querySelector('.small');

  if (event.target === currcompr || event.target === firosmall) {
    
    document.getElementById('firstrow').classList.toggle('compressed');
    document.getElementById('curriculum').classList.toggle('small');
    document.getElementById('curriculum').classList.toggle('enlarged');
    document.getElementById('cv-block-0').classList.toggle('envisage');
    document.getElementById('cv-block-1').classList.toggle('passee1');
    document.getElementById('cv-block-2').classList.toggle('passee2');
    document.getElementById('cv-block-3').classList.toggle('passee3');
    document.getElementById('indicator').classList.toggle('show');
  }
});

// curriculum text show =========================================================================================================

function twentyvh() {
    root.style.setProperty('--fontheight', `${window.innerHeight * .1}px`); // Set the font size
}

// initial curriculum block count indicator ===================================================================================================

const countindicator = document.getElementById('indicator');
countindicator.innerHTML = `<span id="currentblock">1</span>&nbsp;of&nbsp;<span id="totalbcount"> ${cvBlocks[6].blocks.length}</span>`;

// firstrow blocks scalable =====================================================================================================

const firstrowids = ['photo', 'personal-data', 'education', 'languages', 'skills', 'tools'];

window.addEventListener('click', (event) => {
  const parentWithId = event.target.closest('[id]');
  
  if (firstrowids.includes(parentWithId.id) && !parentWithId.classList.contains('compressed') && !parentWithId.parentNode.classList.contains('compressed')) {
    // Toggle the 'ixpanded' class on the parent element with an id
    parentWithId.classList.toggle('ixpanded');
  }
});

// wheeling/swiping through curriculum blocks ===================================================================================

const curBlklength = curBlocks.length;

let cvenvisage, cvNr, cvNrm3, cvNrm2, cvNrm1, cvNr0, cvNrp1, cvNrp2, cvNrp3;

function cvdeclarations() {
cvenvisage = document.querySelector('.envisage'),
cvNr    = Number(cvenvisage.id.split('-')[2]),
cvNrm3  = document.getElementById(`cv-block-${cvNr - 3}`),
cvNrm2  = document.getElementById(`cv-block-${cvNr - 2}`),
cvNrm1  = document.getElementById(`cv-block-${cvNr - 1}`),
cvNr0   = document.getElementById(`cv-block-${cvNr}`),
cvNrp1  = document.getElementById(`cv-block-${cvNr + 1}`),
cvNrp2  = document.getElementById(`cv-block-${cvNr + 2}`),
cvNrp3  = document.getElementById(`cv-block-${cvNr + 3}`);
}

window.addEventListener('wheel', function(event) {
  if (!curriculum.classList.contains('enlarged')) return;

  cvdeclarations();
  const currentblock = document.getElementById('currentblock');

  if (event.deltaY > 0 && cvNr < curBlklength - 1) {
    SwipeToLeft(cvNr, cvNrm3, cvNrm2, cvNrm1, cvNr0, cvNrp1, cvNrp2, cvNrp3);
    currentblock.innerHTML = `${cvNr+2}`;
  } else if (event.deltaY < 0 && cvNr > 0) {
    SwipeToRight(cvNr, cvNrm3, cvNrm2, cvNrm1, cvNr0, cvNrp1, cvNrp2, cvNrp3);
    currentblock.innerHTML = `${cvNr}`;
  }
});

window.addEventListener('keydown', function(event) {
  if (!curriculum.classList.contains('enlarged')) return;

  cvdeclarations();
  const currentblock = document.getElementById('currentblock');

  // Left swipe 
  if (event.key === 'ArrowLeft' && event.type === 'keydown' && cvNr > 0) {
    SwipeToRight(cvNr, cvNrm3, cvNrm2, cvNrm1, cvNr0, cvNrp1, cvNrp2, cvNrp3);
    currentblock.innerHTML = `${cvNr}`;
  }
  //right swipe
  else if (event.key === 'ArrowRight' && event.type === 'keydown' && cvNr < curBlklength - 1) {
    SwipeToLeft(cvNr, cvNrm3, cvNrm2, cvNrm1, cvNr0, cvNrp1, cvNrp2, cvNrp3);
    currentblock.innerHTML = `${cvNr+2}`;
  }
});

window.addEventListener('click', (event) => {
  if (!curriculum.classList.contains('enlarged')) return;

  cvdeclarations();
  let parentid   = event.target.closest('[id]'),
  hascvblock = parentid.id.startsWith('cv-block'),
  whichidNr  = Number(parentid.id.split('-')[2]),
  whichEnvge = document.querySelector('.envisage'),
  envgeidNr  = Number(whichEnvge.id.split('-')[2]);

  if ((event.target === parentid || hascvblock) && whichidNr > envgeidNr) {
    SwipeToLeft(cvNr, cvNrm3, cvNrm2, cvNrm1, cvNr0, cvNrp1, cvNrp2, cvNrp3);
    currentblock.innerHTML = `${cvNr+2}`;
  }
  else if ((event.target === parentid || hascvblock) && whichidNr < envgeidNr) {
    SwipeToRight(cvNr, cvNrm3, cvNrm2, cvNrm1, cvNr0, cvNrp1, cvNrp2, cvNrp3);
    currentblock.innerHTML = `${cvNr}`;
  }
});
function SwipeToLeft(cvNr, cvNrm3, cvNrm2, cvNrm1, cvNr0, cvNrp1, cvNrp2, cvNrp3) {

  if (cvNr > 2) {
    cvNrm3.classList.remove('futur0', 'futur1', 'futur2', 'futur3');
    cvNrm3.classList.add('hidden');
  }
  if (cvNr > 1) {
    cvNrm2.classList.remove('futur0', 'futur1', 'futur2', 'futur3');
    if (cvNr === curBlklength - 2) cvNrm2.classList.add('futur3'); // one step before end of line
    else cvNrm2.classList.add('hidden');
  }
  if (cvNr > 0) {
    cvNrm1.classList.remove('futur0', 'futur1', 'futur2', 'futur3');
    if (cvNr === curBlklength - 3 || cvNr === curBlklength - 2) cvNrm1.classList.add('futur2'); //two/one step(s) before end of line
    else cvNrm1.classList.add('hidden');
  }
  
  cvNr0.classList.remove('envisage');
  if (cvNr === curBlklength - 3 || cvNr === curBlklength - 2) cvNr0.classList.add('futur1'); // two/one step(s) before end of line
  else cvNr0.classList.add('futur0');
  
  if (cvNr < curBlklength - 1) {
    cvNrp1.classList.remove('passee0', 'passee1', 'passee2', 'passee3', 'hidden');
    cvNrp1.classList.add('envisage');
  }
  if (cvNr < curBlklength - 2) {
    cvNrp2.classList.remove('passee0', 'passee1', 'passee2', 'passee3', 'hidden');
    if (cvNr === curBlklength - 3) cvNrp2.classList.add('passee0'); //two steps before end of line
    else cvNrp2.classList.add('passee1');
  }
  if (cvNr < curBlklength - 3) {
    cvNrp3.classList.remove('passee0', 'passee1', 'passee2', 'passee3', 'hidden');
    cvNrp3.classList.add('passee2');
  }
}

function SwipeToRight(cvNr, cvNrm3, cvNrm2, cvNrm1, cvNr0, cvNrp1, cvNrp2, cvNrp3) {

  if (cvNr > 2) {
    cvNrm3.classList.remove('futur0', 'futur1', 'futur2', 'futur3', 'hidden');
    cvNrm3.classList.add('futur2');
  }
  if (cvNr > 1) {
    cvNrm2.classList.remove('futur0', 'futur1', 'futur2', 'futur3', 'hidden');
    if (cvNr === 2) cvNrm2.classList.add('futur0'); // one step before starting point
    else cvNrm2.classList.add('futur1');
  }
  if (cvNr > 0) {
  cvNrm1.classList.remove('futur0', 'futur1', 'futur2', 'futur3');
  cvNrm1.classList.add('envisage');
  }

  cvNr0.classList.remove('envisage');
  if (cvNr === 2 || cvNr === 1) cvNr0.classList.add('passee1'); // one/two step(s) before starting point
  else cvNr0.classList.add('passee0');

  if (cvNr < curBlklength - 1) {
    cvNrp1.classList.remove('passee0', 'passee1', 'passee2', 'passee3');
    if (cvNr === 2 || cvNr === 1) cvNrp1.classList.add('passee2'); // one/two step(s) before starting point
    else cvNrp1.classList.add('hidden');
  }
  if (cvNr < curBlklength - 2) {
    cvNrp2.classList.remove('passee0', 'passee1', 'passee2', 'passee3');
    if (cvNr === 1) cvNrp2.classList.add('passee3'); // one step before starting point
    else cvNrp2.classList.add('hidden');
  }
  if (cvNr < curBlklength - 3) {
    cvNrp3.classList.remove('passee0', 'passee1', 'passee2', 'passee3');
    cvNrp3.classList.add('hidden');
  }
  
}

</script>
<script aria-label="contact-page">
  // resize of textarea ========================================================================

  const contactMessage = document.getElementById('c-message');

  contactMessage.addEventListener('input', function() {
    this.style.height = 'auto';
    this.style.height = this.scrollHeight + 'px';
  });

  // sending text ==============================================================================

  function SendMessage() {
    const contactName = document.getElementById('c-name');
    const contactSubject = document.getElementById('c-subject');
    const contactEmail = document.getElementById('c-email');
    const Mail = [contactName ? contactName.value : '', contactSubject ? contactSubject.value : '', contactEmail ? contactEmail.value : '', contactMessage ? contactMessage.value : ''];

    alert(Mail[0] + ' ' + Mail[1] + ' ' + Mail[2] + ' ' + Mail[3]);

    if (Mail[2] === '') {
      alert('Please enter your email.');
    } else if (Mail[3] === '') {
      alert('Please enter a message.');
    } else {
      alert('Thank you for your message, ' + Mail[0] + '!');
    }

    const link = encodeURIComponent("mailto:pajozim@gmail.com")
             + "?from=" + encodeURIComponent(Mail[2])
             + "&subject=" + encodeURIComponent(Mail[1])
             + "&body=" + encodeURIComponent(Mail[3]);
             + "&name=" + encodeURIComponent(Mail[0]);
    window.location.href = link;
  }

</script>
<script aria-label="toStudio">
// flip to Studio ==========================================================================================================

pfTriStudio.addEventListener('click', () => {
  // Flip pageflipper
  void pageflipper.offsetWidth; // This forces a reflow
  pageflipper.classList.add('ftoSS');

  // Disappear stpg-container
  spcontainer.classList.remove('appear');
  spcontainer.classList.add('disappear');

  // Flicker of return-to-startpage button
  triangleBtn.classList.replace('SP', 'Studio');

  // Dynamic composer
  studioC.classList.remove('disappear');
  setTimeout(() => {studioC.classList.add('appear')}, 1000);

  // products composition
  displayProducts()

  // Appearance and disappearance of dynav bar
  dynnav.classList.add('dn-intro');
  setTimeout(() => {
    dynnav.classList.remove('dn-intro');
  }, 6000);
});


// back to Initial State / Start Page ==============================================================================

function backToSPFromStudio() {
  // to the intial state
  if (pageflipper.classList.contains('ftoSS')) {
    pageflipper.classList.remove('ftoSS');
    void pageflipper.offsetWidth;
    pageflipper.classList.add('ftoISfSS');
    setTimeout(() => {
      pageflipper.classList.remove('ftoISfSS');
    }, 1000);
  }

  // appear stpg-container
  setTimeout(() => {
    spcontainer.classList.remove('disappear');
    spcontainer.classList.add('appear');
  }, 1000);

  // removal of return-to-startpage button
  triangleBtn.classList.replace('Studio', 'SP');

  // disappearance of studio
  studioC.classList.remove('appear', 'flexed');
  studioC.classList.add('disappear');
  studioC.innerHTML = '';
};

pagefliptr.addEventListener('click', () => {
  backToSPFromStudio();
});
</script>
<script aria-label="toCV">
// adaptable font-size ===================================================================================================

if (window.screen.width > window.screen.height) {

  document.addEventListener('DOMContentLoaded', () => {
    root.style.setProperty('--changfontsize', `${(Math.floor(window.innerWidth / 100) - 2)}px`);
    }); 
}

// flip to Curriculum ====================================================================================================

pfTriCV.addEventListener('click', () => {
// flip pageflipper
void pageflipper.offsetWidth; // This forces a reflow
pageflipper.classList.add('ftoCS');

// disappear stpg-container
spcontainer.classList.remove('appear');
spcontainer.classList.add('disappear');

// flicker of return-to-startpage button
triangleBtn.classList.replace('SP', 'CV');

// dynamic composer
cvcontainer.classList.remove('disappear');
setTimeout(() => {cvcontainer.classList.add('appear')}, 1000);

// dynamic cv composer
displayCV();

// text size
twentyvh();

// appearance and disappearance of dynav bar
dynnav.classList.add('dn-intro');
setTimeout(() => {
  dynnav.classList.remove('dn-intro');
}, 6000);
});

// back to Initial State / Start Page ==============================================================================

function backToSPFromCV() {
  // to the intial state
if (pageflipper.classList.contains('ftoCS')) {
  pageflipper.classList.remove('ftoCS');
  void pageflipper.offsetWidth;
  pageflipper.classList.add('ftoISfCS');
  setTimeout(() => {
    pageflipper.classList.remove('ftoISfCS');
  }, 1000);
}

// dynamic composer disappearance
cvcontainer.classList.remove('appear');
setTimeout(() => {cvcontainer.classList.add('disappear')}, 1000);

// removal of return-to-startpage button
triangleBtn.classList.replace('CV', 'SP');

// appear stpg-container
setTimeout(() => {
  spcontainer.classList.remove('disappear');
  spcontainer.classList.add('appear');
}, 1000);
};

pagefliptr.addEventListener('click', () => {
  backToSPFromCV();
});
</script>
<script aria-label="toContact">
// flip to Contact ====================================================================================================

pfTriContact.addEventListener('click', () => {
  // flip pageflipper
  void pageflipper.offsetWidth; // This forces a reflow
  pageflipper.classList.add('ftoCo');

  // disappear stpg-container
  spcontainer.classList.remove('appear');
  spcontainer.classList.add('disappear');

  // flicker of return-to-startpage button
  triangleBtn.classList.replace('SP', 'Contact');

  // contact box
  setTimeout(() => {
    contactcontainer.classList.add('on');
  }, 1000);

  // appearance and disappearance of dynav bar
  dynnav.classList.add('dn-intro');
  setTimeout(() => {
    dynnav.classList.remove('dn-intro');
  }, 4000);
});

// back to Initial State / Start Page ==============================================================================

function backToSPFromContact() {
  // to the intial state
  if (pageflipper.classList.contains('ftoCo')) {
    pageflipper.classList.remove('ftoCo');
    void pageflipper.offsetWidth;
    pageflipper.classList.add('ftoISfCo');
    setTimeout(() => {
      pageflipper.classList.remove('ftoISfCo');
    }, 1000);
  }

  // removal of return-to-startpage button
  triangleBtn.classList.replace('Contact', 'SP');

  // contact box disappearance
  contactcontainer.classList.remove('on');

  // appear stpg-container
  setTimeout(() => {
    spcontainer.classList.remove('disappear');
    spcontainer.classList.add('appear');
  }, 1000);

  // disappearance of dynamic navigation bar
  dynnav.classList.remove('nkey2', 'nkey1');
}

pagefliptr.addEventListener('click', () => {
  backToSPFromContact();
});
</script>
<script aria-label="language-switching">
// declarations =========================================================================

const LangEng = ["Curriculum", "Studio", "Contact"];
const LangEsp = ["Curr√≠culum", "Portafolio", "Contacto"];
const LangDeu = ["Lebenslauf", "Studio", "Kontakt"];

const IdiomaEng = document.getElementById('IdiomaEng');
const IdiomaEsp = document.getElementById('IdiomaEsp');
const IdiomaDeu = document.getElementById('IdiomaDeu');

// Typewriter fx function

// Initialize typewriter effect with two words "Contact" and "Kontakt"
const langElement = document.getElementById('LangEng');
const words = ['Contact', 'Kontakt'];

document.addEventListener('click', function(event) {
  if (event.target.id === 'IdiomaEng') {
    document.getElementById('currvitae').children[0].textContent = LangEng[0];
    document.getElementById('studio').children[0].textContent = LangEng[1];
    document.getElementById('contact').children[0].textContent = LangEng[2];
  }
  else if (event.target.id === 'IdiomaEsp') {
    document.getElementById('currvitae').children[0].textContent = LangEsp[0];
    document.getElementById('studio').children[0].textContent = LangEsp[1];
    document.getElementById('contact').children[0].textContent = LangEsp[2];
  }
  else if (event.target.id === 'IdiomaDeu') {
    document.getElementById('currvitae').children[0].textContent = LangDeu[0];
    document.getElementById('studio').children[0].textContent = LangDeu[1];
    document.getElementById('contact').children[0].textContent = LangDeu[2];
  }
})
</script>
</body>
</html>
